var Bank = artifacts.require("./Bank.sol");

function signUpAllAccounts(paymentInstance, accounts) {
	console.log("hehehehehhehe");
	Bank.deployed().then(function(instance) {
		PaymentsInstance = instance;
		console.log("hehehehehhehe");
		for (i in accounts) {
			console.log(accounts[i]);
			console.log("DHFSDHF");
			PaymentsInstance.signUp({from: account[i], value: 5});
		}
	})
}

// function signUpAccount(paymentsInstance, account) {
// 	return new Promise ((resolve, revert) => {
// 		resolve(PaymentsInstance.signUp({from: account, value: 5}));
// 	});
// }

contract('Bank', function(accounts) {
	it ("should be unable to pay out all the accounts I sign up", function() {
		return Bank.deployed().then(function(instance) {
			PaymentsInstance = instance;
			signUpAllAccounts(PaymentsInstance, accounts);
			console.log(PaymentsInstance.getNumberOfAccounts);
		});
	});

});