pragma solidity ^0.4.4;

/*
This contract is vulnerable to an attacker exploting
integer underflow.  When you subtract from unsigned integers
at their lowest value (0), they cycle to their highest value.
Similarly, adding 1 to a max value unsigned integer will
cycle it to zero.
*/

contract IntUnderflow {
    uint32 public reputation;
    
    function IntUnderflow() public {
        reputation = 0;
    }
    
    function upvote() external {
        reputation += 1;
    }

    // if reputation is zero, this will cause reputation
    // to underflow to 2^32 -1
    function downvote() external {
        reputation -= 1;
    }
    
    function getReputation() public constant returns (uint32) {
        return reputation;
    }
}