pragma solidity ^0.4.4;

// THIS CONTRACT CONTAINS A BUG - DO NOT USE
contract Reentrance {
    /// Mapping of ether shares of the contract.
    mapping(address => uint) public shares;

    // Enable this contract to receive funds
    function deposit() payable public {
    	shares[msg.sender] += msg.value;
    }

    // Withdraw your share.
    function withdraw() {
        if (msg.sender.send(shares[msg.sender]))
            shares[msg.sender] = 0;
    }

    // Be able to check your balances
    function readShares() constant returns(uint) {
    	return shares[msg.sender];
    }
}